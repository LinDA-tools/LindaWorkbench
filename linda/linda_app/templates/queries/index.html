{% extends "base.html" %}
{% load i18n thumbnail2 app_filters %}
{% block title %}Queries | LinDA{% endblock %}
{% block bodyclass %}queries{% endblock %}

{% block content %}
<div class="main">
    <h2 class="queries-index-title">{% trans "Queries" %}</h2> <a href="/query-builder/">+ {%trans "Create New"%}</a>

    {% if queries %}
        <table class="datasources-table">
            <thead>
                <tr>
                    <th>{% trans "ID" %}</th>
                    <th>{% trans "Endpoint" %}</th>
                    <th>{% trans "Description"%}</th>
                    <th>{% trans "Query" %}</th>
                    <th>{% trans "Created on" %}</th>
                </tr>
            </thead>
            <tbody>
                {% for query in queries %}
                    <tr id="{{datasource.name}}" class="datasource {% if datasource.is_public %}public{% else %}private{% endif %}">
                        <td class="query-id">#{{query.id}}</td>
                        <td>{{query.endpoint}}</td>
                        <td>{{query.description}}</td>
                        <td class="sparql-query">{{query.sparql|linebreaks}}</td>
                        <td>{{query.createdOn}}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>{% trans "No queries found."%}</p>
    {% endif %}

    {% with current_url="/queries" %}
        {% include 'util/paginator.html' %}
    {% endwith %}

</div>
{% endblock %}